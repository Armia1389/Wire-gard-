<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù¾Ù†Ù„ VPN Ø­Ø±ÙÙ‡â€ŒØ§ÛŒ | ÙˆÛŒØ±Ø§ÛŒØ´Ú¯Ø± a0</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/flag-icon-css/3.5.0/css/flag-icon.min.css">
    <style>
        :root {
            --primary: #3498db;
            --danger: #e74c3c;
            --success: #2ecc71;
            --warning: #f39c12;
            --dark: #2c3e50;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: #f5f7fa;
            color: #333;
            line-height: 1.6;
            padding: 0;
            margin: 0;
        }
        
        .container {
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
        }
        
        .header {
            background: linear-gradient(135deg, var(--primary), var(--dark));
            color: white;
            padding: 1.5rem;
            text-align: center;
            border-radius: 0 0 10px 10px;
            margin-bottom: 30px;
        }
        
        .card {
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            padding: 1.5rem;
            margin-bottom: 1rem;
        }
        
        .server-item {
            padding: 15px;
            border: 1px solid #eee;
            border-radius: 8px;
            margin-bottom: 10px;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .server-item:hover {
            border-color: var(--primary);
            background-color: #f8f9fa;
        }
        
        .server-item.selected {
            border-color: var(--success);
            background-color: #e8f8f0;
        }
        
        .badge {
            display: inline-block;
            padding: 3px 8px;
            border-radius: 4px;
            font-size: 12px;
            font-weight: bold;
        }
        
        .badge-premium {
            background: var(--success);
            color: white;
        }
        
        .badge-normal {
            background: #95a5a6;
            color: white;
        }
        
        .ping-indicator {
            display: inline-block;
            width: 12px;
            height: 12px;
            border-radius: 50%;
            margin-left: 5px;
        }
        
        .ping-excellent {
            background-color: #00ff00;
        }
        
        .ping-good {
            background-color: #aaff00;
        }
        
        .ping-average {
            background-color: #ffff00;
        }
        
        .premium-activation {
            margin-top: 20px;
            padding: 15px;
            background: #fff3cd;
            border-radius: 8px;
            border-right: 4px solid var(--warning);
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>Ù¾Ù†Ù„ VPN Ø­Ø±ÙÙ‡â€ŒØ§ÛŒ <span id="premium-badge" class="badge badge-premium hidden">Ù¾Ø±Ù…ÛŒÙˆÙ…</span></h1>
        </div>
        
        <div class="card">
            <h2>Ø³Ø±ÙˆØ±Ù‡Ø§ÛŒ Ù…ÙˆØ¬ÙˆØ¯</h2>
            <div id="serverList">
                <!-- Ø³Ø±ÙˆØ±Ù‡Ø§ Ø§ÛŒÙ†Ø¬Ø§ Ù†Ù…Ø§ÛŒØ´ Ø¯Ø§Ø¯Ù‡ Ù…ÛŒâ€ŒØ´ÙˆÙ†Ø¯ -->
            </div>
            
            <button id="generateBtn" class="btn" onclick="generateConfig()">Ø³Ø§Ø®Øª Ú©Ø§Ù†ÙÛŒÚ¯</button>
            <div id="configOutput" class="hidden"></div>
            <button id="downloadBtn" class="btn hidden" onclick="downloadConfig()">Ø¯Ø§Ù†Ù„ÙˆØ¯ ÙØ§ÛŒÙ„ Ú©Ø§Ù†ÙÛŒÚ¯</button>
            
            <div id="premium-activation" class="premium-activation hidden">
                <h3>ÙØ¹Ø§Ù„â€ŒØ³Ø§Ø²ÛŒ Ø§Ø´ØªØ±Ø§Ú© Ù¾Ø±Ù…ÛŒÙˆÙ…</h3>
                <p>Ø¨Ø±Ø§ÛŒ Ø¯Ø³ØªØ±Ø³ÛŒ Ù†Ø§Ù…Ø­Ø¯ÙˆØ¯ØŒ Ú©Ø¯ ÙØ¹Ø§Ù„â€ŒØ³Ø§Ø²ÛŒ Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯:</p>
                <input type="text" id="premiumCode" placeholder="Ú©Ø¯ Ù¾Ø±Ù…ÛŒÙˆÙ…">
                <button class="btn btn-premium" onclick="activatePremium()">ÙØ¹Ø§Ù„â€ŒØ³Ø§Ø²ÛŒ</button>
                <p style="margin-top: 10px; font-size: 14px;">
                    Ø¨Ø±Ø§ÛŒ Ø¯Ø±ÛŒØ§ÙØª Ú©Ø¯ØŒ Ù¾ÛŒØ§Ù… <code>#Ù¾Ø±Ù…ÛŒÙˆÙ…_Ù¾Ù†Ù„</code> Ø±Ø§ Ø¨Ù‡ Ø¢ÛŒØ¯ÛŒ 
                    <a href="https://t.me/editor_a0_ADM" target="_blank">@editor_a0_ADM</a> Ø§Ø±Ø³Ø§Ù„ Ú©Ù†ÛŒØ¯.
                </p>
            </div>
        </div>
    </div>

    <script>
        // â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ
        // â–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–ˆ
        // â–ˆ                 ØªÙ†Ø¸ÛŒÙ…Ø§Øª Ø§Ø¯Ù…ÛŒÙ† (Ù…Ù‚Ø§Ø¯ÛŒØ± Ø´Ù…Ø§)                 â–ˆ
        // â–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–ˆ
        // â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ
        const TELEGRAM_BOT_TOKEN = "7496580172:AAGupL0bN--hIztAIKjLANRAXoepUu_kZ3Q";
        const ADMIN_CHAT_ID = "742995223";
        // â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ

        // â€”â€” (Û±) Ø³Ø±ÙˆØ±Ù‡Ø§ÛŒ Ù…Ø¬Ø§Ø²ÛŒ â€”â€”
        const VIRTUAL_SERVERS = [
            {
                id: "turkey1",
                location: "ğŸ‡¹ğŸ‡· Ø§Ø³ØªØ§Ù†Ø¨ÙˆÙ„ - ØªØ±Ú©ÛŒÙ‡",
                ip: "10.15.20.25",
                ipv6: "fd42:4f8a:7e3d::1",
                ping: 8,
                download: 950,
                upload: 650,
                port: 51820,
                publicKey: "W0tCFiYQxMKy9lDtXrLDc/ZPZmpU6xwZJwYt2tkMjCA="
            },
            {
                id: "iraq1",
                location: "ğŸ‡®ğŸ‡¶ Ø§Ø±Ø¨ÛŒÙ„ - Ø¹Ø±Ø§Ù‚",
                ip: "10.25.30.35",
                ipv6: "fd42:5f9b:8f4e::1",
                ping: 12,
                download: 850,
                upload: 550,
                port: 51820,
                publicKey: "X1uDFkZRyNLz8mEuQsKjf3aObnqP7wVpYt0x4vHrUlE="
            },
            {
                id: "uae1",
                location: "ğŸ‡¦ğŸ‡ª Ø¯Ø¨ÛŒ - Ø§Ù…Ø§Ø±Ø§Øª",
                ip: "10.35.40.45",
                ipv6: "fd42:6gac:9g5f::1",
                ping: 15,
                download: 1100,
                upload: 750,
                port: 51820,
                publicKey: "Y2vEGl9SzOMw9nIvRtLmh4bPcoQ8xNqWu1y5zAsVnJ="
            }
        ];

        // â€”â€” (Û²) Ù…Ø¯ÛŒØ±ÛŒØª Ú©Ø§Ø±Ø¨Ø±Ø§Ù† â€”â€”
        function getUserData() {
            const defaultData = {
                id: 'user-' + Math.random().toString(36).substr(2, 8),
                premium: false,
                expiry: null,
                configs: [],
                lastConfigDate: null
            };
            
            return JSON.parse(localStorage.getItem('vpnUserData')) || defaultData;
        }

        function saveUserData(data) {
            localStorage.setItem('vpnUserData', JSON.stringify(data));
        }

        // â€”â€” (Û³) Ø¨Ø±Ø±Ø³ÛŒ ÙˆØ¶Ø¹ÛŒØª Ù¾Ø±Ù…ÛŒÙˆÙ… â€”â€”
        function checkPremiumStatus() {
            const userData = getUserData();
            const isPremium = userData.premium && new Date(userData.expiry) > new Date();
            
            if (isPremium) {
                document.getElementById('premium-badge').classList.remove('hidden');
            } else {
                document.getElementById('premium-badge').classList.add('hidden');
            }
            
            return isPremium;
        }

        // â€”â€” (Û´) Ù†Ù…Ø§ÛŒØ´ Ø³Ø±ÙˆØ±Ù‡Ø§ â€”â€”
        function renderServers() {
            const serverList = document.getElementById('serverList');
            serverList.innerHTML = '';
            
            VIRTUAL_SERVERS.forEach(server => {
                const serverElement = document.createElement('div');
                serverElement.className = 'server-item';
                serverElement.dataset.serverId = server.id;
                
                let pingClass;
                if (server.ping <= 10) pingClass = 'ping-excellent';
                else if (server.ping <= 15) pingClass = 'ping-good';
                else pingClass = 'ping-average';
                
                serverElement.innerHTML = `
                    <h3>${server.location}</h3>
                    <p>Ø¢Ø¯Ø±Ø³: ${server.ip} | Ù¾ÙˆØ±Øª: ${server.port}</p>
                    <p>
                        Ù¾ÛŒÙ†Ú¯: ${server.ping} ms
                        <span class="ping-indicator ${pingClass}"></span>
                    </p>
                    <p>Ø³Ø±Ø¹Øª: ğŸ“¥ ${server.download} Mbps | ğŸ“¤ ${server.upload} Mbps</p>
                `;
                
                serverElement.addEventListener('click', () => {
                    document.querySelectorAll('.server-item').forEach(item => {
                        item.classList.remove('selected');
                    });
                    serverElement.classList.add('selected');
                    window.selectedServer = server;
                });
                
                serverList.appendChild(serverElement);
            });
        }

        // â€”â€” (Ûµ) Ø³Ø§Ø®Øª Ú©Ø§Ù†ÙÛŒÚ¯ â€”â€”
        function generateConfig() {
            const userData = getUserData();
            
            // Ø¨Ø±Ø±Ø³ÛŒ Ù…Ø­Ø¯ÙˆØ¯ÛŒØª Ú©Ø§Ø±Ø¨Ø±Ø§Ù† Ø¹Ø§Ø¯ÛŒ
            if (!checkPremiumStatus()) {
                const lastConfigDate = userData.lastConfigDate ? new Date(userData.lastConfigDate) : null;
                const now = new Date();
                
                if (lastConfigDate && (now - lastConfigDate) < 7 * 24 * 60 * 60 * 1000) {
                    const nextDate = new Date(lastConfigDate.getTime() + 7 * 24 * 60 * 60 * 1000);
                    alert(`â³ Ú©Ø§Ø±Ø¨Ø±Ø§Ù† Ø¹Ø§Ø¯ÛŒ ÙÙ‚Ø· Ù‡ÙØªÙ‡â€ŒØ§ÛŒ ÛŒÚ© Ø¨Ø§Ø± Ù…ÛŒâ€ŒØªÙˆØ§Ù†Ù†Ø¯ Ú©Ø§Ù†ÙÛŒÚ¯ Ø¯Ø±ÛŒØ§ÙØª Ú©Ù†Ù†Ø¯!\nØ²Ù…Ø§Ù† Ø¨Ø¹Ø¯ÛŒ: ${nextDate.toLocaleDateString('fa-IR')}`);
                    document.getElementById('premium-activation').classList.remove('hidden');
                    return;
                }
            }
            
            if (!window.selectedServer) {
                alert("Ù„Ø·ÙØ§Ù‹ ÛŒÚ© Ø³Ø±ÙˆØ± Ø±Ø§ Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯");
                return;
            }
            
            // ØªÙˆÙ„ÛŒØ¯ Ú©Ù„ÛŒØ¯Ù‡Ø§ÛŒ Ù…Ø¬Ø§Ø²ÛŒ
            const privateKey = generateVirtualKey();
            const server = window.selectedServer;
            
            // ØªÙˆÙ„ÛŒØ¯ Ø¢Ø¯Ø±Ø³ Ú©Ø§Ø±Ø¨Ø±
            const userIp = `10.${Math.floor(Math.random() * 255)}.${Math.floor(Math.random() * 255)}.${Math.floor(Math.random() * 255)}`;
            const userIpv6 = `fd42:${Math.random().toString(16).substr(2, 4)}:${Math.random().toString(16).substr(2, 4)}::${Math.floor(Math.random() * 1000)}`;
            
            // Ø³Ø§Ø®Øª Ú©Ø§Ù†ÙÛŒÚ¯
            const config = `[Interface]
PrivateKey = ${privateKey}
Address = ${userIp}/24, ${userIpv6}/64
DNS = 1.1.1.1, 8.8.8.8

[Peer]
PublicKey = ${server.publicKey}
Endpoint = ${server.ip}:${server.port}
AllowedIPs = 0.0.0.0/0, ::/0
PersistentKeepalive = 25

# Ù…Ø´Ø®ØµØ§Øª Ø³Ø±ÙˆØ±:
# Ù…ÙˆÙ‚Ø¹ÛŒØª: ${server.location}
# Ù¾ÛŒÙ†Ú¯: ${server.ping}ms
# Ø³Ø±Ø¹Øª Ø¯Ø§Ù†Ù„ÙˆØ¯: ${server.download} Mbps
# Ø³Ø±Ø¹Øª Ø¢Ù¾Ù„ÙˆØ¯: ${server.upload} Mbps`;

            // Ø°Ø®ÛŒØ±Ù‡ Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ú©Ø§Ø±Ø¨Ø±
            userData.configs.push({
                server: server.id,
                date: new Date().toISOString(),
                config: config
            });
            userData.lastConfigDate = new Date().toISOString();
            saveUserData(userData);
            
            // Ù†Ù…Ø§ÛŒØ´ Ú©Ø§Ù†ÙÛŒÚ¯
            document.getElementById('configOutput').textContent = config;
            document.getElementById('configOutput').classList.remove('hidden');
            document.getElementById('downloadBtn').classList.remove('hidden');
            
            // Ø§Ø³Ú©Ø±ÙˆÙ„ Ø¨Ù‡ Ù‚Ø³Ù…Øª Ú©Ø§Ù†ÙÛŒÚ¯
            document.getElementById('configOutput').scrollIntoView({ behavior: 'smooth' });
        }

        // â€”â€” (Û¶) ÙØ¹Ø§Ù„â€ŒØ³Ø§Ø²ÛŒ Ù¾Ø±Ù…ÛŒÙˆÙ… â€”â€”
        function activatePremium() {
            const code = document.getElementById('premiumCode').value.trim();
            if (!code) return alert("Ù„Ø·ÙØ§Ù‹ Ú©Ø¯ ÙØ¹Ø§Ù„â€ŒØ³Ø§Ø²ÛŒ Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯");
            
            const userData = getUserData();
            userData.premium = true;
            userData.expiry = new Date(Date.now() + 30 * 24 * 60 * 60 * 1000).toISOString(); // 30 Ø±ÙˆØ²
            saveUserData(userData);
            
            alert("âœ… Ø§Ø´ØªØ±Ø§Ú© Ù¾Ø±Ù…ÛŒÙˆÙ… Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª ÙØ¹Ø§Ù„ Ø´Ø¯!");
            checkPremiumStatus();
            document.getElementById('premium-activation').classList.add('hidden');
            
            // Ø§Ø±Ø³Ø§Ù„ Ú¯Ø²Ø§Ø±Ø´ Ø¨Ù‡ ØªÙ„Ú¯Ø±Ø§Ù…
            sendToTelegram(`ğŸ‰ Ú©Ø§Ø±Ø¨Ø± Ù¾Ø±Ù…ÛŒÙˆÙ… Ø´Ø¯:\nÚ©Ø¯: ${code}\nØ´Ù†Ø§Ø³Ù‡ Ú©Ø§Ø±Ø¨Ø±: ${userData.id}`);
        }

        // â€”â€” (Û·) ØªÙˆØ§Ø¨Ø¹ Ú©Ù…Ú©ÛŒ â€”â€”
        function generateVirtualKey() {
            const chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';
            let key = '';
            for (let i = 0; i < 44; i++) {
                key += chars.charAt(Math.floor(Math.random() * chars.length));
            }
            return key + '=';
        }

        function downloadConfig() {
            const config = document.getElementById('configOutput').textContent;
            const blob = new Blob([config], {type: 'text/plain'});
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `wg-${window.selectedServer.id}.conf`;
            a.click();
        }

        async function sendToTelegram(message) {
            try {
                await fetch(`https://api.telegram.org/bot${TELEGRAM_BOT_TOKEN}/sendMessage`, {
                    method: 'POST',
                    headers: {'Content-Type': 'application/json'},
                    body: JSON.stringify({
                        chat_id: ADMIN_CHAT_ID,
                        text: message,
                        parse_mode: "HTML"
                    })
                });
            } catch (error) {
                console.error("Ø®Ø·Ø§ Ø¯Ø± Ø§Ø±Ø³Ø§Ù„ Ø¨Ù‡ ØªÙ„Ú¯Ø±Ø§Ù…:", error);
            }
        }

        // â€”â€” (Û¸) Ø§Ø¬Ø±Ø§ÛŒ Ø§ÙˆÙ„ÛŒÙ‡ â€”â€”
        document.addEventListener('DOMContentLoaded', () => {
            checkPremiumStatus();
            renderServers();
        });
    </script>
</body>
</html>